<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Neko Scrapper</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="page">
      <div class="card">
        <div class="brand">
          <span class="dot"></span>
          <span class="title">Neko Scrapper</span>
        </div>
        <div class="toggle-container">
          <button id="mode-toggle" class="toggle-btn active" data-mode="x">
            X Followers
          </button>
          <button
            id="mode-toggle-tiktok"
            class="toggle-btn"
            data-mode="tiktok"
          >
            TikTok Comments
          </button>
          <button
            id="mode-toggle-hypemeter"
            class="toggle-btn"
            data-mode="hypemeter"
          >
            Hjalmar Hypemeter
          </button>
        </div>
        <p class="subtitle" id="subtitle">
          Paste your X handle here
        </p>
        <form id="scrape-form" class="form">
          <input
            id="handle-input"
            name="handle"
            type="text"
            placeholder="@username or https://x.com/username"
            autocomplete="off"
            spellcheck="false"
            required
          />
          <button id="extract-btn" type="submit">Extract</button>
        </form>
        <p id="status" class="status" aria-live="polite"></p>

        <div id="hypemeter-panel" class="hypemeter hidden">
          <div class="hypemeter-header">
            <div class="hypemeter-title">Hjalmar Hypemeter</div>
            <button id="hypemeter-download-btn" type="button">
              Download CSV (followers + KPIs)
            </button>
          </div>
          <div id="hypemeter-last-refresh" class="hypemeter-last-refresh"></div>
          <div class="kpi-header-row">
            <div class="kpi-evolution-label">KPIs evolution</div>
            <div class="kpi-period-toggle" aria-label="KPI period selection">
              <button
                type="button"
                class="kpi-period-btn"
                data-period="daily"
              >
                24h
              </button>
              <button
                type="button"
                class="kpi-period-btn active"
                data-period="weekly"
              >
                7d
              </button>
              <button
                type="button"
                class="kpi-period-btn"
                data-period="monthly"
              >
                30d
              </button>
            </div>
          </div>
          <div class="kpi-grid">
            <div class="kpi-card">
              <div class="kpi-label">Total followers</div>
              <div id="kpi-total" class="kpi-value">-</div>
              <div id="kpi-total-delta" class="kpi-delta"></div>
            </div>
            <div class="kpi-card">
              <div class="kpi-label">Tech / VC</div>
              <div id="kpi-tech" class="kpi-value">-</div>
              <div id="kpi-tech-delta" class="kpi-delta"></div>
            </div>
            <div class="kpi-card">
              <div class="kpi-label">Medical</div>
              <div id="kpi-medical" class="kpi-value">-</div>
              <div id="kpi-medical-delta" class="kpi-delta"></div>
            </div>
            <div class="kpi-card">
              <div class="kpi-label">Other</div>
              <div id="kpi-other" class="kpi-value">-</div>
              <div id="kpi-other-delta" class="kpi-delta"></div>
            </div>
          </div>
          <div class="hypemeter-chart-row">
            <div id="hypemeter-chart" class="hypemeter-chart"></div>
            <div id="hypemeter-pie" class="hypemeter-chart hypemeter-pie"></div>
          </div>
          <div class="hypemeter-table-wrapper">
            <table class="hypemeter-table">
              <thead>
                <tr>
                  <th>Username</th>
                  <th>Name</th>
                  <th>Bio</th>
                  <th>Location</th>
                  <th>Category</th>
                </tr>
              </thead>
              <tbody id="hypemeter-tbody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </main>
    <script src="./app.js"></script>
  </body>
</html>
